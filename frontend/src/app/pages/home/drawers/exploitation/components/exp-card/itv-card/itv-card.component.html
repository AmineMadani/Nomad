<ng-template #titleTemplateRef let-feature>
  <div class="itv-title">
    <ion-label>{{ feature?.itvFilename }}</ion-label>
    <ion-label>{{ feature?.itvDcre | date: 'dd/MM/yyyy' }}</ion-label>
  </div>
</ng-template>

<ng-template #chipTemplateRef let-feature>
  <div class="itv-chips">
    <div class="itv-status">
      <ion-chip *ngIf="feature?.itvStatus === 'I'" [outline]="true" class="status" [class]="'imported'">
        <ion-label>ImportÃ©</ion-label>
      </ion-chip>
      <ion-chip *ngIf="feature?.itvStatus === 'O'" [outline]="true" class="status" [class]="'ongoing'">
        <ion-label>En cours</ion-label>
      </ion-chip>
      <ion-icon name="close-outline" *ngIf="feature?.itvStatus === 'O'" (click)="deleteItv(feature.id, $event)"></ion-icon>
    </div>
    <div class="itv-failures">
      <div *ngIf="feature?.itvObservation === true" class="circle O">O</div>
      <div *ngIf="feature?.itvStructuralDefect === true" class="circle S">S</div>
      <div *ngIf="feature?.itvFunctionalDefect === true" class="circle F">F</div>
    </div>
  </div>
</ng-template>

<app-exp-card [features]="itvs" [type]="'itv'" [titleTemplateRef]="titleTemplateRef" [isLoading]="loading"
  [chipTemplateRef]="chipTemplateRef"
  (onLoadingEvent)="getPaginationData($event)" (onFeatureSelected)="openITV($event)">
</app-exp-card>