<!-- STEP 1 - Import ITV -->
<ng-container *ngIf="step === 1">
  <ion-content class="itv-import" scrollbar [scrollbar]="onCustomScrollBarStyle()" allowAllScreens='true'>
    <ion-button mat-stroked-button (click)="fileUploadItv.click()" fill="clear">
      Choisir un fichier
      <input #fileUploadItv type="file" value="Upload" (change)="selectFileItv($event)" style="display:none" accept=".txt, .xml" />
    </ion-button>

    <ion-item lines="none" style="font-size: 14px;">
      Sélectionner un fichier au norme EN13508-2 (versions 2003 ou 2011) et au format txt ou xml
    </ion-item>

    <ion-item lines="none" *ngIf="itvFile != null">
      Fichier sélectionné : {{itvFile.name}}
    </ion-item>
  </ion-content>

  <ion-footer>
    <ion-item lines="none">
      <ion-button slot="end" (click)="importItvfile()" [disabled]="itvFile == null">Importer</ion-button>
    </ion-item>
  </ion-footer>
</ng-container>

<!-- STEP 2 - Pictures -->
<ng-container *ngIf="step === 2">
  <ion-content class="itv-import" scrollbar [scrollbar]="onCustomScrollBarStyle()" allowAllScreens='true'>
    <ion-item lines="none">
      Fichier valide et importé avec succès
    </ion-item>

    <ion-item lines="none">
      Import Photos / vidéos
    </ion-item>
    <ion-list class="itv-picture-list">
      <ion-item *ngFor="let itvPicture of listItvPicture">
        <ion-label>
          <p>{{itvPicture.itpLabel}}</p>
          <!--<ion-icon slot="icon-only" name="check"></ion-icon>-->
        </ion-label>
      </ion-item>
    </ion-list>
    <ion-button mat-stroked-button (click)="fileUploadPicture.click()" fill="clear">
      Choisir les photos / vidéos
      <input #fileUploadPicture type="file" value="Upload" (change)="selectFilePictures($event)" style="display:none" accept="*" multiple/>
    </ion-button>
  </ion-content>

  <ion-footer>
    <ion-item lines="none">
      <ion-button slot="end" (click)="endPictureUpload()">Valider</ion-button>
    </ion-item>
  </ion-footer>
</ng-container>

<!-- STEP 3 - Workorders -->
<ng-container *ngIf="step === 3">
  <ion-content class="itv-import" scrollbar [scrollbar]="onCustomScrollBarStyle()" allowAllScreens='true'>
    <ion-item lines="none">
      Fichier valide et importé avec succès
    </ion-item>

    <ion-item lines="none">
      Import Photos / vidéos
    </ion-item>
    <ion-list>
      <ion-item *ngFor="let itvPicture of listItvPicture">
        <ion-label>
          <p>{{itvPicture.itpLabel}}</p>
          <ion-icon slot="icon-only" name="check"></ion-icon>
        </ion-label>
      </ion-item>
    </ion-list>
    <ion-button mat-stroked-button (click)="fileUpload.click()" fill="clear">
      Choisir un fichier
      <input #fileUpload type="file" value="Upload" (change)="selectFileItv($event)" style="display:none" accept=".txt, .xml" />
    </ion-button>
  </ion-content>

  <ion-footer>
    <ion-item lines="none">
      <ion-button slot="end" (click)="createWorkorder()">Generer une intervention</ion-button>
    </ion-item>

    <ion-item lines="none">
      <ion-button slot="end" (click)="finishItv()">Valider</ion-button>
    </ion-item>
  </ion-footer>
</ng-container>