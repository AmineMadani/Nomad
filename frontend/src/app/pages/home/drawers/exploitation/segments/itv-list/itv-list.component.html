<ng-container *ngIf="!isImport">
  <ion-item>
    <ion-label>Afficher les dernières ITVs</ion-label>
    <ion-toggle aria-label="toggle" (ionChange)="onDisplayLastITVs($event)" slot="end" [checked]="isDisplayLastTasks"></ion-toggle>
  </ion-item>

  <ion-item>
    <ion-label>Afficher les défauts</ion-label>
    <ion-toggle aria-label="toggle" (ionChange)="onDisplayFailures($event)" slot="end" [checked]="isDisplayFailures"></ion-toggle>
  </ion-item>

  <app-itv-search [label]="'Filtrer les ITVs'" (onSearchChange)="filterITV($event)"></app-itv-search>

  <ion-content class="itv-list" scrollbar [scrollbar]="onCustomScrollBarStyle()" allowAllScreens='true'>
    <app-itv-card [itvs]="itvs" [loading]="loading" 
      (onPagination)="onIonInfinite($event)" (onDeleteItv)="onDeleteItv($event)"></app-itv-card>
  </ion-content>

  <ion-footer>
    <ion-item lines="none">
      <ion-button slot="end" (click)="switchToImport()">Importer</ion-button>
    </ion-item>
  </ion-footer>
</ng-container>

<ng-container *ngIf="isImport">
  <app-itv-import (onImportItvFinished)="onImportItvFinished()"></app-itv-import>
</ng-container>