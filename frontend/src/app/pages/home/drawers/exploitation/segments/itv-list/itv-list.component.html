<ng-container *ngIf="!isImport">
  <ion-item>
    <ion-label>Afficher les dernières ITVs</ion-label>
    <ion-toggle aria-label="toggle" (ionChange)="onDisplayLastITVs($event)" slot="end" [checked]="isDisplayLastTasks"></ion-toggle>
  </ion-item>

  <ion-item>
    <ion-label>Afficher les défauts</ion-label>
    <ion-toggle aria-label="toggle" (ionChange)="onDisplayFailures($event)" slot="end" [checked]="isDisplayFailures"></ion-toggle>
  </ion-item>

  <app-itv-search [label]="'Filtrer les ITVs'" (onSearchChange)="filterITV($event)"></app-itv-search>

  <ion-content class="itv-list" scrollbar [scrollbar]="onCustomScrollBarStyle()" allowAllScreens='true'>
    <app-itv-card [itvs]="itvs" [loading]="loading" (onPagination)="onIonInfinite($event)"></app-itv-card>
  </ion-content>

  <ion-footer>
    <ion-item lines="none">
      <ion-button slot="end" (click)="switchToImport()">Importer</ion-button>
    </ion-item>
  </ion-footer>
</ng-container>

<ng-container *ngIf="isImport">
  <ion-button mat-stroked-button (click)="fileUpload.click()" fill="clear">
    Choisir un fichier
    <input #fileUpload type="file" value="Upload" (change)="selectFileItv($event)" style="display:none" accept=".txt, .xml" />
  </ion-button>

  <ion-item lines="none" style="font-size: 14px;">
    Sélectionner un fichier au norme EN13508-2 (versions 2003 ou 2011) et au format txt ou xml
  </ion-item>

  <ion-item lines="none" *ngIf="itvFile != null">
    Fichier sélectionné : {{itvFile.name}}
  </ion-item>

  <ion-footer>
    <ion-item lines="none">
      <ion-button slot="end" (click)="importItvfile()" [disabled]="itvFile == null">Importer</ion-button>
    </ion-item>
  </ion-footer>
</ng-container>