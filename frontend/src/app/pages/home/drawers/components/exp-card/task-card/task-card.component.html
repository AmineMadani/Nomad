<ng-template #titleTemplateRef let-feature>
  {{ feature?.id }} - {{ feature?.wkoName }}
</ng-template>

<ng-template #subtitleTemplateRef let-feature>
  <ng-container *ngIf="actions">{{ getAction(feature?.wtrId) }}</ng-container>
</ng-template>

<ng-template #labelTemplateRef let-feature>
  {{ feature?.wkoPlanningStartDate | date: 'dd/MM/yyyy' }} - {{ feature?.wkoPlanningEndDate | date: 'dd/MM/yyyy' }}
</ng-template>

<ng-template #chipTemplateRef let-feature>
  <ion-chip class="status" *ngIf="feature?.wtsId && status" [ngClass]="'status-PLANIFIE'" [outline]="false">
    <ion-icon [name]="'close-outline'"></ion-icon>
    <ion-label>{{ getStatus(feature?.wtsId) }}</ion-label>
  </ion-chip>
  <ion-chip *ngIf="feature?.wkoEmergency" [outline]="true" class="status">
    <ion-icon name="calendar-outline"></ion-icon>
    <ion-label>Urgent</ion-label>
  </ion-chip>
  <ion-chip *ngIf="feature?.wkoAppointment" [outline]="false" class="status">
    <ion-icon name="calendar-outline"></ion-icon>
    <ion-label>Rendez-vous</ion-label>
  </ion-chip>
</ng-template>

<app-exp-card [features]="tasks" [type]="'workorder'" [titleTemplateRef]="titleTemplateRef" [isLoading]="loading"
  [subtitleTemplateRef]="subtitleTemplateRef" [labelTemplateRef]="labelTemplateRef" [chipTemplateRef]="chipTemplateRef"
  [fromCache]="false" (onLoadingEvent)="getPaginationData($event)" (onFeatureSelected)="openTask($event)">
</app-exp-card>
