<ion-header [translucent]="true">
  <app-main-toolbar [title]="'Accueil'"></app-main-toolbar>
</ion-header>

<ion-content>
  <ion-row class="home-main-content">
    <ion-col class="home-main-content-map">
      <app-map #interactiveMap></app-map>
      <app-actions-layer [currentRoute]="currentRoute"></app-actions-layer>
    </ion-col>

    <ion-col class="home-main-content-interactive" [class.col-12]="isMobile()"
      [ngClass]="!drawerHasBeenOpened ? '' : (currentRoute !== drawerRouteEnum.HOME ? 'home-main-content-interactive-animation-in' : 'home-main-content-interactive-animation-out')">
      <ion-router-outlet></ion-router-outlet>
    </ion-col>
  </ion-row>

  <ion-fab *ngIf="!isMobile() || (isMobile() && currentRoute === drawerRouteEnum.HOME)" slot="fixed" vertical="bottom" [horizontal]="isMobile() ? 'end' : 'start'" class="home-main-content-fab-map"  [class.fab-map-mobile]="isMobile()">
    <ion-fab-button class="home-main-content-fab-map-selector">
      <ion-icon name="layers-outline"></ion-icon>
    </ion-fab-button>
    <ion-fab-list [side]="isMobile() ? 'top' : 'end'">
      <ion-fab-button *ngFor="let backLayer of backLayers" class="home-main-content-fab-map-selector-item" [title]="'layer-' + backLayer.key" (click)="onMapChange(backLayer.key)">
        <ion-img [src]="'assets/img/map/' + backLayer.key + '.png'"></ion-img>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
