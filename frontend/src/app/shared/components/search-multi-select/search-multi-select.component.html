<ng-container>
  <div class="search-multi-select-input">
    <ion-label class="label">
      <h3>{{ title }}</h3>
    </ion-label>
    <ion-input aria-label="def-input" labelPlacement="stacked" fill="outline" [label]="label"
      [value]="getValueLabel()" (click)="onOpenModal()" [readonly]="true" [formControl]="control" />

    <ng-container>
      <ng-container>
        <ng-container *ngIf="control.hasError('required') && control.touched">
          <ion-label color="danger" lines="none">
            Le champ est requis.
          </ion-label>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
  <ng-container>
    <ion-modal class="search-multi-select-modal" #modal>
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>{{ label }}</ion-title>
            <ion-buttons class="search-multi-select-modal-close" slot="end">
              <ion-icon (click)="modal.dismiss()" name="close" />
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-searchbar mode="ios" animated="true" placeholder="Recherche"
          (ionInput)="onHandleInput($event)"></ion-searchbar>
        <ion-content>
          <ion-list class="search-multi-select-list">
            <ion-checkbox *ngFor="let element of displayedList;" (ionChange)="onCheckboxChange($event, element)"
              labelPlacement="end" justify="start" aria-label="checkbox" [checked]="isElementSelected(element)">
              {{ element[key] }}
            </ion-checkbox>
          </ion-list>
          <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
            <ion-infinite-scroll-content></ion-infinite-scroll-content>
          </ion-infinite-scroll>
        </ion-content>
      </ng-template>
    </ion-modal>
  </ng-container>
</ng-container>
